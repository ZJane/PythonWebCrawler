<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <link rel="canonical" href="https://blog.csdn.net/winner647520/article/details/81488067"/> 
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="referrer" content="always">
    <meta name="description" content="原文链接：跳跃的舞者，舞蹈链（Dancing Links）算法——求解精确覆盖问题

作者：万仓一黍

出处：http://grenet.cnblogs.com/

本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。

精确覆盖问题的定义：给定一个由0-1组成的矩阵，是否能找到一个行的集合，使得集合中每一列都恰好包含..." />
    <meta name="keywords" content="" />
    <meta http-equiv="Cache-Control" content="no-siteapp" /><link rel="alternate" media="handheld" href="#" />
    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848">
    <script src="https://csdnimg.cn/release/phoenix/vendor/tingyun/tingyun-rum-blog.js"></script>

    <link href="https://csdnimg.cn/public/favicon.ico" rel="SHORTCUT ICON">
    <title>Dancing Links（舞蹈链） - CSDN博客</title>
    
            <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/detail-d18c5189a1.min.css">
        <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-8195ccbe2d.min.css">

    <script type="text/javascript">
        var username = "winner647520";
        var blog_address = "https://blog.csdn.net/winner647520";
        var static_host = "https://csdnimg.cn/release/phoenix/";
        var currentUserName = ""; 
        var isShowAds = true;
        var isOwner = false;
        var loginUrl = "https://passport.csdn.net/account/login?from=https://blog.csdn.net/winner647520/article/details/81488067"
        var blogUrl = "https://blog.csdn.net/";
        //页面皮肤样式
        var curSkin = "skin3-template";
    </script>
    <script type="text/javascript">
        // Traffic Stats of the entire Web site By baidu
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?6bcd52f51e9b3dce32bec4a3997715ac";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        // Traffic Stats of the entire Web site By baidu end
    </script>
    <script src="https://csdnimg.cn/public/common/libs/jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="https://csdnimg.cn/rabbit/exposure-click/main-1.0.6.js"></script>
    <!-- 新版上报 -->
    <script src="//g.csdnimg.cn/track/1.0.1/track.js" type="text/javascript"></script>
    <!-- 新版上报end -->
            <link rel="stylesheet" href="https://csdnimg.cn/public/sandalstrap/1.3/css/sandalstrap.min.css"> 
    <style>
        .MathJax, .MathJax_Message, .MathJax_Preview{
            display: none
        }
    </style>
</head>
<body>    
    <link rel="stylesheet" href="https://csdnimg.cn/public/common/toolbar/content_toolbar_css/content_toolbar.css">
    <script id="toolbar-tpl-scriptId" src="https://csdnimg.cn/public/common/toolbar/js/content_toolbar.js" type="text/javascript" domain="https://blog.csdn.net/"></script>
<link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/blog_code-c3a0c33d5c.css">
<link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/vendor/pagination/paging.css">
<script type="text/javascript" src="//static.mediav.com/js/mvf_news_feed.js"></script>
<div style="display:none;">
	<img src="" onerror='setTimeout(function(){if(!/(csdn.net|iteye.com|baiducontent.com|googleusercontent.com|360webcache.com|sogoucdn.com|bingj.com|baidu.com)$/.test(window.location.hostname)){window.location.href="\x68\x74\x74\x70\x73\x3a\x2f\x2f\x77\x77\x77\x2e\x63\x73\x64\x6e\x2e\x6e\x65\x74"}},3000);'>
</div>
<link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/chart-3456820cac.css" />



<script src="https://dup.baidustatic.com/js/ds.js"></script>
<div class="container clearfix pt0" id="mainBox">
		<div id="breadcrumbs">
			<span><a href="https://blog.csdn.net/">博客首页</a></span>
			<i>></i>
			<span><a href="https://blog.csdn.net/winner647520">CSer 高金满的博客...</a></span>
			<i>></i>
			<span>Dancing Links（舞蹈链）</span>
		</div>
    <main>
        <div class="blog-content-box">
	<div class="article-title-box">
			<span class="article-type type-2 float-left">转</span>		<h1 class="title-article">Dancing Links（舞蹈链）</h1>
	</div>
	<div class="article-info-box">
		<div class="article-bar-top d-flex">
												<span class="time">2018年08月07日 20:41:43</span>
			<div class="float-right">
				<span class="read-count">阅读数：1</span>
											</div>
		</div>
	</div>
	<article>
		<div id="article_content" class="article_content clearfix csdn-tracking-statistics" data-pid="blog"  data-mod=popu_307  data-dsm = "post" >
                    <link rel="stylesheet" href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-e2445db1a8.css" />
						<div class="htmledit_views">
                <p>原文链接：<a href="https://www.cnblogs.com/grenet/p/3145800.html" rel="nofollow" id="cb_post_title_url">跳跃的舞者，舞蹈链（Dancing Links）算法——求解精确覆盖问题</a></p>

<p>作者：<a href="http://grenet.cnblogs.com/" rel="nofollow">万仓一黍</a></p>

<p>出处：<a href="http://grenet.cnblogs.com/" rel="nofollow">http://grenet.cnblogs.com/</a></p>

<p>本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。</p>

<p><strong>精确覆盖问题的定义</strong>：给定一个由0-1组成的矩阵，是否能找到一个行的集合，使得集合中每一列都恰好包含一个1</p>

<p>例如：如下的矩阵</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/20141205-78f0147dae6940b8a2c72d8928fcc806.png" rel="nofollow"><img alt="clip_image002" class="has" src="https://images0.cnblogs.com/blog/93227/201306/20141206-4ffe865b38304f679d2ff7c4436ab4b7.png" /></a></p>

<p>就包含了这样一个集合（第1、4、5行）</p>

<p> </p>

<p>如何利用给定的矩阵求出相应的行的集合呢？我们采用回溯法</p>

<p> </p>

<p>矩阵1：<a href="https://images0.cnblogs.com/blog/93227/201306/21074621-b280963e9390402fb0ade0ab7e1695c7.png" rel="nofollow"><img alt="clip_image002" class="has" src="https://images0.cnblogs.com/blog/93227/201306/21074621-084b7dda814a48ed8f71bb7d27e85d41.png" /></a></p>

<p> </p>

<p>先假定选择第1行，如下所示：</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/20141206-17f0946ed79d46709f39e72eb5eb6ab1.png" rel="nofollow"><img alt="clip_image002[4]" class="has" src="https://images0.cnblogs.com/blog/93227/201306/20141206-3b4bd7db79394066a3b1fb416caab2f5.png" /></a></p>

<p>如上图中所示，红色的那行是选中的一行，这一行中有3个1，分别是第3、5、6列。</p>

<p>由于这3列已经包含了1，故，把这三列往下标示，图中的蓝色部分。蓝色部分包含3个1，分别在2行中，把这2行用紫色标示出来</p>

<p>根据定义，同一列的1只能有1个，故紫色的两行，和红色的一行的1相冲突。</p>

<p>那么在接下来的求解中，红色的部分、蓝色的部分、紫色的部分都不能用了，把这些部分都删除，得到一个新的矩阵</p>

<p>矩阵2：<a href="https://images0.cnblogs.com/blog/93227/201306/20141207-ec8253ab414b4034a1c85af7c69f2435.png" rel="nofollow"><img alt="clip_image002[6]" class="has" src="https://images0.cnblogs.com/blog/93227/201306/20141210-51c3f91ceebe404d89c8b70adf1b9909.png" /></a></p>

<p>行分别对应矩阵1中的第2、4、5行</p>

<p>列分别对应矩阵1中的第1、2、4、7列</p>

<p> </p>

<p>于是问题就转换为一个规模小点的精确覆盖问题</p>

<p> </p>

<p>在新的矩阵中再选择第1行，如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/20144122-57be909761f64d1dabf84884bf409d39.png" rel="nofollow"><img alt="clip_image002[8]" class="has" src="https://images0.cnblogs.com/blog/93227/201306/20144122-518a2ef670d0491794eebaa7da2f2f98.png" /></a></p>

<p>还是按照之前的步骤，进行标示。红色、蓝色和紫色的部分又全都删除，导致新的空矩阵产生，而红色的一行中有0（有0就说明这一列没有1覆盖）。说明，第1行选择是错误的</p>

<p> </p>

<p>那么回到之前，选择第2行，如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/20144122-bc9faed752664c0281c2ff34856b2d05.png" rel="nofollow"><img alt="clip_image002[10]" class="has" src="https://images0.cnblogs.com/blog/93227/201306/20144122-a9c55df3ed704ed78f1f471a3d82de05.png" /></a></p>

<p>按照之前的步骤，进行标示。把红色、蓝色、紫色部分删除后，得到新的矩阵</p>

<p>矩阵3：<a href="https://images0.cnblogs.com/blog/93227/201306/20144123-eddc2778fa1b46319b92b686c6928bbf.png" rel="nofollow"><img alt="clip_image002[12]" class="has" src="https://images0.cnblogs.com/blog/93227/201306/20144126-9d5953a4b9294366a092807e9cd66d21.png" /></a></p>

<p>行对应矩阵2中的第3行，矩阵1中的第5行</p>

<p>列对应矩阵2中的第2、4列，矩阵1中的第2、7列</p>

<p> </p>

<p>由于剩下的矩阵只有1行，且都是1，选择这一行，问题就解决</p>

<p>于是该问题的解就是矩阵1中第1行、矩阵2中的第2行、矩阵3中的第1行。也就是矩阵1中的第1、4、5行</p>

<p> </p>

<p>在求解这个问题的过程中，我们第1步选择第1行是正确的，但是不是每个题目第1步选择都是正确的，如果选择第1行无法求解出结果出来，那么就要推倒之前的选择，从选择第2行开始，以此类推</p>

<p> </p>

<p>从上面的求解过程来看，实际上求解过程可以如下表示</p>

<p>1、从矩阵中选择一行</p>

<p>2、根据定义，标示矩阵中其他行的元素</p>

<p>3、删除相关行和列的元素，得到新矩阵</p>

<p>4、如果新矩阵是空矩阵，并且之前的一行都是1，那么求解结束，跳转到6；新矩阵不是空矩阵，继续求解，跳转到1；新矩阵是空矩阵，之前的一行中有0，跳转到5</p>

<p>5、说明之前的选择有误，回溯到之前的一个矩阵，跳转到1；如果没有矩阵可以回溯，说明该问题无解，跳转到7</p>

<p>6、求解结束，把结果输出</p>

<p>7、求解结束，输出无解消息</p>

<p> </p>

<p>从如上的求解流程来看，在求解的过程中有大量的缓存矩阵和回溯矩阵的过程。而如何缓存矩阵以及相关的数据（保证后面的回溯能正确恢复数据），也是一个比较头疼的问题（并不是无法解决）。以及在输出结果的时候，如何输出正确的结果（把每一步的选择转换为初始矩阵相应的行）。</p>

<p> </p>

<p>于是算法大师Donald E.Knuth（《计算机程序设计艺术》的作者）出面解决了这个方面的难题。他提出了DLX（Dancing Links X）算法。实际上，他把上面求解的过程称为X算法，而他提出的舞蹈链（Dancing Links）实际上并不是一种算法，而是一种数据结构。一种非常巧妙的数据结构，他的数据结构在缓存和回溯的过程中效率惊人，不需要额外的空间，以及近乎线性的时间。而在整个求解过程中，指针在数据之间跳跃着，就像精巧设计的舞蹈一样，故Donald E.Knuth把它称为Dancing Links（中文译名舞蹈链）。</p>

<p> </p>

<p>Dancing Links的核心是基于双向链的方便操作（移除、恢复加入）</p>

<p>我们用例子来说明</p>

<p>假设双向链的三个连续的元素，A1、A2、A3，每个元素有两个分量Left和Right，分别指向左边和右边的元素。由定义可知</p>

<p>A1.Right=A2，A2.Right=A3</p>

<p>A2.Left=A1，A3.Left=A2</p>

<p>在这个双向链中，可以由任一个元素得到其他两个元素，A1.Right.Right=A3，A3.Left.Left=A1等等</p>

<p> </p>

<p>现在把A2这个元素从双向链中移除（不是删除）出去，那么执行下面的操作就可以了</p>

<p>A1.Right=A3，A3.Left=A1</p>

<p>那么就直接连接起A1和A3。A2从双向链中移除出去了。但仅仅是从双向链中移除了，A2这个实体还在，并没有删除。只是在双向链中遍历的话，遍历不到A2了。</p>

<p>那么A2这个实体中的两个分量Left和Right指向谁？由于实体还在，而且没有修改A2分量的操作，那么A2的两个分量指向没有发生变化，也就是在移除前的指向。即A2.Left=A1和A2.Right=A3</p>

<p> </p>

<p>如果此时发现，需要把A2这个元素重新加入到双向链中的原来的位置，也就是A1和A3的中间。由于A2的两个分量没有发生变化，仍然指向A1和A3。那么只要修改A1的Right分量和A3的Left就行了。也就是下面的操作</p>

<p>A1.Right=A2，A3.Left=A2</p>

<p> </p>

<p>仔细想想，上面两个操作（移除和恢复加入）对应了什么？是不是对应了之前的算法过程中的关键的两步？</p>

<p>移除操作对应着缓存数据、恢复加入操作对应着回溯数据。而美妙的是，这两个操作不再占用新的空间，时间上也是极快速的</p>

<p> </p>

<p>在很多实际运用中，把双向链的首尾相连，构成循环双向链</p>

<p> </p>

<p>Dancing Links用的数据结构是<strong>交叉十字循环双向链</strong></p>

<p>而Dancing Links中的每个元素不仅是横向循环双向链中的一份子，又是纵向循环双向链的一份子。</p>

<p>因为精确覆盖问题的矩阵往往是稀疏矩阵（矩阵中，0的个数多于1），Dancing Links仅仅记录矩阵中值是1的元素。</p>

<p> </p>

<p>Dancing Links中的每个元素有6个分量</p>

<p>分别：Left指向左边的元素、Right指向右边的元素、Up指向上边的元素、Down指向下边的元素、Col指向列标元素、Row指示当前元素所在的行</p>

<p> </p>

<p>Dancing Links还要准备一些辅助元素（为什么需要这些辅助元素？没有太多的道理，大师认为这能解决问题，实际上是解决了问题）</p>

<p>Ans（）：Ans数组，在求解的过程中保留当前的答案，以供最后输出答案用。</p>

<p>Head元素：求解的辅助元素，在求解的过程中，当判断出Head.Right=Head（也可以是Head.Left=Head）时，求解结束，输出答案。Head元素只有两个分量有用。其余的分量对求解没啥用</p>

<p>C元素：辅助元素，称列标元素，每列有一个列标元素。本文开始的题目的列标元素分别是C1、C2、C3、C4、C5、C6、C7。每一列的元素的Col分量都指向所在列的列标元素。列标元素的Col分量指向自己（也可以是没有）。在初始化的状态下，Head.Right=C1、C1.Right=C2、……、C7.Right=Head、Head.Left=C7等等。列标元素的分量Row=0，表示是处在第0行。</p>

<p> </p>

<p>下图就是根据题目构建好的<strong>交叉十字循环双向链</strong>（构建的过程后面的详述）</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29144604-86559ddc694840869aebb129c2874afb.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29144607-5d8ddd307f8043b98438f4cfefafb7a9.png" /></a></p>

<p>就上图解释一下</p>

<p>每个绿色方块是一个元素，其中Head和C1、C2、……、C7是辅助元素。橙色框中的元素是原矩阵中1的元素，给他们标上号（从1到16）</p>

<p>左侧的红色，标示的是行号，辅助元素所在的行是0行，其余元素所在的行从1到6</p>

<p>每两个元素之间有一个双向箭头连线，表示双向链中相邻两个元素的关系（水平的是左右关系、垂直的是上下关系）</p>

<p>单向的箭头并不是表示单向关系，而因为是循环双向链，左侧的单向箭头和右侧的单向箭头（上边的和下边的）组成了一个双向箭头，例如元素14左侧的单向箭头和元素16右侧的单项箭头组成一个双向箭头，表示14.Left=16、16.Right=14；同理，元素14下边的单项箭头和元素C4上边的单向箭头组成一个双向箭头，表示14.Down=C4、C4.Up=14</p>

<p> </p>

<p>接下来，利用图来解释Dancing Links是如何求解精确覆盖问题</p>

<p>1、首先判断Head.Right=Head？若是，求解结束，输出解；若不是，求解还没结束，到步骤2（也可以判断Head.Left=Head？）</p>

<p>2、获取Head.Right元素，即元素C1，并<strong>标示元素C1</strong>（<strong>标示元素C1</strong>，指的是标示C1、和C1所在列的所有元素、以及该元素所在行的元素，并从双向链中移除这些元素）。如下图中的紫色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29191205-b1a6267f14f448918334eceda468139e.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29191213-ea9487ba623a4256af39b0f783551d46.png" /></a></p>

<p>如上图可知，行2和行4中的一个必是答案的一部分（其他行中没有元素能覆盖列C1），先假设选择的是行2</p>

<p> </p>

<p>3、选择行2（在答案栈中压入2），标示该行中的其他元素（元素5和元素6）所在的列首元素，即<strong>标示元素C4</strong>和<strong>标示元素C7</strong>，下图中的橙色部分。</p>

<p>注意的是，即使元素5在步骤2中就从双向链中移除，但是元素5的Col分量还是指向元素C4的，这里体现了双向链的强大作用。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29191217-3d619d4ed8014755be9be60067822d5b.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29191223-8705421ba852459991f5e0fc55e583fb.png" /></a></p>

<p> </p>

<p>把上图中的紫色部分和橙色部分移除的话，剩下的绿色部分就如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29200540-37cc75d6ef9b408d8718ff401e85d32b.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29200548-58c6dfe4a6dc42778052c075937f2e91.png" /></a></p>

<p>一下子空了好多，是不是转换为一个少了很多元素的精确覆盖问题？，利用递归的思想，很快就能写出求解的过程来。我们继续完成求解过程</p>

<p> </p>

<p>4、获取Head.Right元素，即元素C2，并<strong>标示元素C2</strong>。如下图中的紫色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29203052-0745493325a444a08462a942cb3e75d0.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29203106-b4e21f8f73c443948ee8d0a7c3f5e3d3.png" /></a></p>

<p>如图，列C2只有元素7覆盖，故答案只能选择行3</p>

<p> </p>

<p>5、选择行3（在答案栈中压入3），标示该行中的其他元素（元素8和元素9）所在的列首元素，即<strong>标示元素C3</strong>和<strong>标示元素C6</strong>，下图中的橙色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29203128-9cc10a73ea3d4fa4a8afa47c54ee913f.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29203130-a0956c32c6c74c35b5d9d35708dcb26c.png" /></a></p>

<p>把上图中的紫色部分和橙色部分移除的话，剩下的绿色部分就如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29203132-a0192b4014e64ee2b0b0b87229759e07.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29203133-84cad7532a904218b8dc9c48551493be.png" /></a></p>

<p> </p>

<p>6、获取Head.Right元素，即元素C5，元素C5中的垂直双向链中没有其他元素，也就是没有元素覆盖列C5。说明当前求解失败。要回溯到之前的分叉选择步骤（步骤2）。那要<strong>回标列首元素</strong>（把列首元素、所在列的元素，以及对应行其余的元素。并恢复这些元素到双向链中），<strong>回标列首元素</strong>的顺序是<strong>标示元素</strong>的顺序的反过来。从前文可知，顺序是<strong>回标列首C6</strong>、<strong>回标列首C3</strong>、<strong>回标列首C2</strong>、<strong>回标列首C7</strong>、<strong>回标列首C4</strong>。表面上看起来比较复杂，实际上利用递归，是一件很简单的事。并把答案栈恢复到步骤2（清空的状态）的时候。又回到下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29203137-cf812112bef841778df91d379b13e146.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29203218-8f43b6b0fda345c2b2edefb18e00bc74.png" /></a></p>

<p> </p>

<p>7、由于之前选择行2导致无解，因此这次选择行4（再无解就整个问题就无解了）。选择行4（在答案栈中压入4），标示该行中的其他元素（元素11）所在的列首元素，即<strong>标示元素C4</strong>，下图中的橙色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212012-b97eb83c9ef8439c8b5e8c5eabca7f5d.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212018-a7df640c72c94f6086fe92be015509f3.png" /></a></p>

<p>把上图中的紫色部分和橙色部分移除的话，剩下的绿色部分就如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212023-d0b76a241a264dd786b199e8be187590.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212027-4a8d90294bae4167b5d4138da1877dc7.png" /></a></p>

<p> </p>

<p>8、获取Head.Right元素，即元素C2，并<strong>标示元素C2</strong>。如下图中的紫色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212103-75ab63fd4a2d4c2a932792bdbdd91c8c.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212130-3f50443c6b2e4597a108273ece4da7a0.png" /></a></p>

<p>如图，行3和行5都可以选择</p>

<p> </p>

<p>9、选择行3（在答案栈中压入3），标示该行中的其他元素（元素8和元素9）所在的列首元素，即<strong>标示元素C3</strong>和<strong>标示元素C6</strong>，下图中的橙色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212134-61e58889829e46c787da68afa8e82a4a.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212144-3ea5fc774d6e482ab1430352e2ce833f.png" /></a></p>

<p>把上图中的紫色部分和橙色部分移除的话，剩下的绿色部分就如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212147-a2c4fdccec5e4661a50fd85f76cebd28.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212149-1e77730a93e14d85a0754a60a1718e7a.png" /></a></p>

<p> </p>

<p>10、获取Head.Right元素，即元素C5，元素C5中的垂直双向链中没有其他元素，也就是没有元素覆盖列C5。说明当前求解失败。要回溯到之前的分叉选择步骤（步骤8）。从前文可知，<strong>回标列首C6</strong>、<strong>回标列首C3</strong>。并把答案栈恢复到步骤8（答案栈中只有4）的时候。又回到下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212201-74ab795ee3d849cc96dbb7bca00f411b.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212203-2837645139194e10aca506d068598042.png" /></a></p>

<p> </p>

<p>11、由于之前选择行3导致无解，因此这次选择行5（在答案栈中压入5），标示该行中的其他元素（元素13）所在的列首元素，即<strong>标示元素C7</strong>，下图中的橙色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212205-68209a3f717641cabd381f4b73289ea2.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212208-fc87b4cb9c8c41dabd3f8f9449d88660.png" /></a></p>

<p>把上图中的紫色部分和橙色部分移除的话，剩下的绿色部分就如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212211-b38d3dcaef0c41d6b5b2d10dc828cff1.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212212-571acb54f23e4689a28961b1e42ae057.png" /></a></p>

<p> </p>

<p>12、获取Head.Right元素，即元素C3，并<strong>标示元素C3</strong>。如下图中的紫色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212224-620eb69ee3e1482a8152d6c6f45b68b2.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212229-50d9f74cdd2e4d1bbb1d7211b8d6b332.png" /></a></p>

<p> </p>

<p>13、如上图，列C3只有元素1覆盖，故答案只能选择行3（在答案栈压入1）。标示该行中的其他元素（元素2和元素3）所在的列首元素，即<strong>标示元素C5</strong>和<strong>标示元素C6</strong>，下图中的橙色部分。</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212230-934c4955724c4204ba282f2be8b7d8af.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212232-c3f7a1c108274c7d97b2d755e55195aa.png" /></a></p>

<p>把上图中的紫色部分和橙色部分移除的话，剩下的绿色部分就如下图所示</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212233-a34cd0336b084dd580c391cc1d491a42.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212234-671c212ac39c4ad8ac2b6333cd9c7ff2.png" /></a></p>

<p> </p>

<p>14、因为Head.Right=Head。故，整个过程求解结束。输出答案，答案栈中的答案分别是4、5、1。表示该问题的解是第4、5、1行覆盖所有的列。如下图所示（蓝色的部分）</p>

<p><a href="https://images0.cnblogs.com/blog/93227/201306/29212236-13c19a7117144a94bffccaca5050d458.png" rel="nofollow"><img alt="image" class="has" src="https://images0.cnblogs.com/blog/93227/201306/29212242-e557c0c8cb364890a5003ca7d934c01a.png" /></a></p>

<p> </p>

<p>从以上的14步来看，可以把Dancing Links的求解过程表述如下</p>

<p> </p>

<p>1、Dancing函数的入口</p>

<p>2、判断Head.Right=Head？，若是，输出答案，返回True，退出函数。</p>

<p>3、获得Head.Right的元素C</p>

<p>4、<strong>标示元素C</strong></p>

<p>5、获得元素C所在列的一个元素</p>

<p>6、<strong>标示该元素同行的其余元素所在的列首元素</strong></p>

<p>7、获得一个简化的问题，递归调用Daning函数，若返回的True，则返回True，退出函数。</p>

<p>8、若返回的是False，则<strong>回标该元素同行的其余元素所在的列首元素</strong>，回标的顺序和之前标示的顺序相反</p>

<p>9、获得元素C所在列的下一个元素，若有，跳转到步骤6</p>

<p>10、若没有，<strong>回标元素C</strong>，返回False，退出函数。</p>

<p> </p>

<p> </p>

<p> </p>

<p>之前的文章的表述，为了表述简单，采用面向对象的思路，说每个元素有6个分量，分别是Left、Right、Up、Down、Col、Row分量。</p>

<p>但在实际的编码中，用数组也能实现相同的作用。例如：用Left（）表示所有元素的Left分量，Left（1）表示元素1的Left分量</p>

<p>在前文中，元素分为Head元素、列首元素（C1、C2等）、普通元素。在编码中，三种元素统一成一种元素。如上题，0表示Head元素，1表示元素C1、2表示元素C2、……、7表示元素C7，从8开始表示普通元素。这是统一后，编码的简便性。利用数组的下标来表示元素，宛若指针一般。</p>

<p> </p>

<p> </p>

<p>下面是代码的讲解</p>

<p> </p>

<p><strong>1、该类的一些变量</strong></p>

<p><br />
    </p>

<pre class="has">
<code class="language-vbnet">Private Left() As Integer, Right() As Integer, Up() As Integer, Down() As Integer 
    Private Row() As Integer, Col() As Integer 

    Private _Head As Integer 

    Private _Rows As Integer, _Cols As Integer, _NodeCount As Integer 
    Private Ans() As Integer</code></pre>

<p> </p>

<p>前两行表示每个元素的六个分量，用数组表示；_Head表示元素Head，在类中初始化时令其等于0；_Rows表示矩阵的行数，_Cols表示矩阵的列数，_NodeCount表示元素的个数；Ans（）用于存放答案</p>

<p> </p>

<p> </p>

<p><strong>2、求解的主函数，Dance函数，是个递归函数，参数K表示当前的调用层数。</strong><br />
    </p>

<pre class="has">
<code class="language-vbnet">Public Function Dance() As Integer() 
        Return IIf(Dance(0) = True, Ans, Nothing) 
    End Function  

    Private Function Dance(ByVal K As Integer) As Boolean 

        Dim C1 As Integer = Right(_Head) 
        If (C1 = _Head) Then 
            ReDim Preserve Ans(K - 1) 
            Return True 
        End If


        RemoveCol(C1) 

        Dim I As Integer, J As Integer 

        I = Down(C1) 
        Do While I &lt;&gt; C1 
            Ans(K) = Row(I) 

            J = Right(I) 
            Do While J &lt;&gt; I 
                RemoveCol(Col(J)) 
                J = Right(J) 
            Loop 

            If Dance(K + 1) Then Return True 

            J = Left(I) 
            Do While J &lt;&gt; I 
                ResumeCol(Col(J)) 
                J = Left(J) 
            Loop 

            I = Down(I) 
        Loop  

        ResumeCol(C1) 
        Return False 
    End Function

</code></pre>

<p>其中第一个函数Dance是对外开放的函数，它通过调用Dance（0）来求解问题，根据返回值来决定返回答案（当为True的时候）还是返回空（当为False的时候）</p>

<p>第二个函数是求解的主函数。首先通过Right（_Head）获得_Head元素的右元素。判断是否等于自身，若是，求解结束，因为答案保存在Ans（0）到Ans（K-1）中，所以先把答案数组中多余的部分去除（利用Redim语句）。</p>

<p>RemoveCol函数是用来<strong>标示列首元素</strong>的，ResumeCol函数用来<strong>回标列首元素</strong>的，其中通过Col（J）获得J元素的列首元素。在函数中有个很聪明的设计，在<strong>标示列首元素</strong>时，顺序是从I元素的右侧元素开始；而在<strong>回标列首元素</strong>时，顺序是从I元素的左侧元素开始，正好顺序和<strong>标示列首元素</strong>的顺序相反。</p>

<p>在调用Dance（K+1）前，把当前选中的行保存到Ans（K）中，当Dance（K+1）返回True时，说明递归调用获得正确的解，那直接返回True；返回False时，说明当前选择的行不正确，<strong>回标列首元素</strong>，获得下一个元素。</p>

<p>当元素C1中所在的列的其余元素所选定的行没有求解正确的递归函数时（包括C1列没有其余的元素），说明当前的求解失败，<strong>回标列首元素C1</strong>，返回False</p>

<p> </p>

<p> </p>

<p><strong>3、求解的辅助函数，RemoveCol函数，标示列首函数</strong><br />
    </p>

<pre class="has">
<code class="language-vbnet">Public Sub RemoveCol(ByVal Col As Integer) 

        Left(Right(Col)) = Left(Col) 
        Right(Left(Col)) = Right(Col) 

        Dim I As Integer, J As Integer 

        I = Down(Col) 
        Do While I &lt;&gt; Col 
            J = Right(I) 
            Do While J &lt;&gt; I 
                Up(Down(J)) = Up(J) 
                Down(Up(J)) = Down(J) 
                J = Right(J) 
            Loop 

            I = Down(I) 
        Loop 

    End Sub

</code></pre>

<p>首先，利用Left(Right(Col)) = Left(Col) 和Right(Left(Col)) = Right(Col) 把列首元素Col从水平双向链中移除出去。再依次把Col所在的列的其余元素的所在行的其余元素从垂直双向链中移除出去，利用的是Up(Down(J)) = Up(J) 和Down(Up(J)) = Down(J)。找寻Col所在列的其余元素的顺序是从下边（Down分量）开始，移除所在行其余元素的顺序是从右边（Right分量）开始 。可以参考之前的图中的紫色部分。</p>

<p> </p>

<p><strong>4、求解的辅助函数，ResumeCol函数，回标列首函数</strong></p>

<p><br />
    </p>

<pre class="has">
<code class="language-vbnet">Public Sub ResumeCol(ByVal Col As Integer) 

        Left(Right(Col)) = Col 
        Right(Left(Col)) = Col 

        Dim I As Integer, J As Integer 

        I = Up(Col) 

        Do While (I &lt;&gt; Col) 
            J = Right(I) 
            Do While J &lt;&gt; I 
                Up(Down(J)) = J 
                Down(Up(J)) = J 
                J = Right(J) 
            Loop 
            I = Up(I) 
        Loop 

    End Sub</code></pre>

<p> </p>

<p>首先，利用Left(Right(Col)) = Col 和Right(Left(Col)) = Col 把列首元素Col恢复到水平双向链中。再依次把Col所在的列的其余元素的所在行的其余元素恢复到垂直双向链中，利用的是Up(Down(J)) = J 和Down(Up(J)) = J。找寻Col所在列的其余元素的顺序是从上边（Up分量）开始（和之前的RemoveCol函数相反），恢复所在行其余元素的顺序是从右边（Right分量）开始 。</p>

<p> </p>

<p><strong>5、类的初始化函数</strong></p>

<p><br />
   </p>

<pre class="has">
<code class="language-vbscript"> Public Sub New(ByVal Cols As Integer) 
        ReDim Left(Cols), Right(Cols), Up(Cols), Down(Cols), Row(Cols), Col(Cols), Ans(Cols) 
        Dim I As Integer 

        Up(0) = 0 
        Down(0) = 0 
        Right(0) = 1 
        Left(0) = Cols 

        For I = 1 To Cols 
            Up(I) = I 
            Down(I) = I 
            Left(I) = I - 1 
            Right(I) = I + 1 
            Col(I) = I 
            Row(I) = 0 
        Next 

        Right(Cols) = 0 

        _Rows = 0 
        _Cols = Cols 
        _NodeCount = Cols 
        _Head = 0 
    End Sub</code></pre>

<p> </p>

<p>初始化函数有一个参数Cols，表示这个矩阵的列数。</p>

<p>初始化的时候，由于没有传入矩阵元素的信息。因此，在该函数中先把辅助元素完成</p>

<p>0表示Head元素，1-Cols表示Cols个列的列首元素</p>

<p>第一句，重定义六个分量的数组，表示Head元素和列首元素的六个分量。</p>

<p>Right(0) = 1表示Head元素的Right分量指向列首元素1（第1列的列首元素）；Left(0) = Cols表示Head元素的Left分量指向列首元素Cols（第Cols列的列首元素）</p>

<p>后面的一段循环，给每个列首元素指定六个分量。Up和Down分量指向自己，Left分量指向左边的列首元素（I-1），Right分量指向右边的列首元素（I+1），Col分量指向自己，Row分量为0，参看前面的图。最后Right（Cols）=0，Cols列的列首元素的Right分量指向Head元素</p>

<p>其后是一些变量的赋值。把_Head赋值为0，表示0为Head元素，是为了后面的代码的直观性</p>

<p> </p>

<p> </p>

<p><strong>6、添加矩阵元素的函数</strong></p>

<p><br />
    </p>

<pre class="has">
<code class="language-vbscript">Public Sub AppendLine(ByVal ParamArray Value() As Integer) 
        _Rows += 1 
        If Value.Length = 0 Then Exit Sub 

        Dim I As Integer, K As Integer = 0 

        For I = 0 To Value.Length - 1 
            If Value(I) = 1 Then 
                _NodeCount += 1 
                ReDim Preserve Left(_NodeCount) 
                ReDim Preserve Right(_NodeCount) 
                ReDim Preserve Up(_NodeCount) 
                ReDim Preserve Down(_NodeCount) 
                ReDim Preserve Row(_NodeCount) 
                ReDim Preserve Col(_NodeCount) 
                ReDim Preserve Ans(_NodeCount) 
                If K = 0 Then 
                    Left(_NodeCount) = _NodeCount 
                    Right(_NodeCount) = _NodeCount 
                    K = 1 
                Else 
                    Left(_NodeCount) = _NodeCount - 1 
                    Right(_NodeCount) = Right(_NodeCount - 1) 
                    Left(Right(_NodeCount - 1)) = _NodeCount 
                    Right(_NodeCount - 1) = _NodeCount 
                End If 

                Down(_NodeCount) = I + 1 
                Up(_NodeCount) = Up(I + 1) 
                Down(Up(I + 1)) = _NodeCount 
                Up(I + 1) = _NodeCount  

                Row(_NodeCount) = _Rows 
                Col(_NodeCount) = I + 1 
            End If 
        Next 

    End Sub</code></pre>

<p> </p>

<p>把矩阵的一行元素（包括0和1）添加到类中</p>

<p>在前文中介绍了Dancing Links中只存储1的元素（稀疏矩阵），因此，在添加的时候，先判断值是否是1。</p>

<p>那实际上问题是如何把元素添加到双向链中，在添加的过程中，自左向右添加。</p>

<p> </p>

<p>先考量如何把元素添加到水平双向链中</p>

<p>当添加这一行的第一个元素时，由于还没有双向链，首先构造一个只有一个元素的双向链。Left(_NodeCount) = _NodeCount和Right(_NodeCount) = _NodeCount。这个元素的Left和Right分量都指向自己。</p>

<p>从第二个元素开始。问题就转换为把元素添加到水平双向链的末尾，实际上需要知道之前的水平双向链的最左边的元素和最右边的元素，可以肯定的是最右边的元素是_NodeCount-1，最左边的元素是什么？之前并没有缓存啊。由于是循环双向链，Right（_NodeCount-1）就是这双向链的最左边的元素。Left(_NodeCount) = _NodeCount - 1，把当前元素的Left分量指向最右边的元素即_NodeCount-1；Right(_NodeCount) = Right(_NodeCount - 1) ，把当前元素的Right分量指向最左边的元素即Right（_NodeCount-1）；Left(Right(_NodeCount - 1)) = _NodeCount，把最左边的元素即Right（_NodeCount-1）的Left分量指向当前元素；Right(_NodeCount - 1) = _NodeCount，把最右边的元素即_NodeCount-1的Right分量指向当前元素</p>

<p> </p>

<p>再考量如何把元素添加到垂直双向链</p>

<p>同样，问题就转换为把元素添加到垂直双向链的末尾，实际上需要知道之前的垂直双向链的最上边的元素和最下边的元素。和水平双向链的不同，我们没法知道最下边的元素，但是我们可以利用列首元素知道最上边的元素（列首元素就是该双向链中最上边的元素）。因此，最上边的元素是I+1（因为I是从0开始的，故相应的列就是I+1，相应的列首元素就是I+1），那么最下边的元素就是Up（I+1）。Down(_NodeCount) = I + 1，把当前元素的Down分量指向最上边的元素即I+1；Up(_NodeCount) = Up(I + 1) ，把当前元素的Up分量指向最下边的元素即Up（I+1）；Down(Up(I + 1)) = _NodeCount，把最下边元素即Up（I+1）的Down分量指向当前元素；Up(I + 1) = _NodeCount，把最上边元素即I+1的Up分量指向当前元素</p>

<p> </p>

<p>至此，完成了把当前元素添加到两个双向链的过程</p>

<p>最后，给当前元素的Row分量和Col分量赋值</p>

<p> </p>

<p>在文首的题目中，添加第一行的数据，如下调用</p>

<p>AppendLine（0，0，1，0，1，1，0）</p>

<p> </p>

<p> </p>

<p>如果一行中有大量的0，那么用下面的函数比较方便</p>

<p><br />
    </p>

<pre class="has">
<code class="language-vbscript">Public Sub AppendLineByIndex(ByVal ParamArray Index() As Integer) 
        _Rows += 1 
        If Index.Length = 0 Then Exit Sub 

        Dim I As Integer, K As Integer = 0  

        ReDim Preserve Left(_NodeCount + Index.Length) 
        ReDim Preserve Right(_NodeCount + Index.Length) 
        ReDim Preserve Up(_NodeCount + Index.Length) 
        ReDim Preserve Down(_NodeCount + Index.Length) 
        ReDim Preserve Row(_NodeCount + Index.Length) 
        ReDim Preserve Col(_NodeCount + Index.Length) 
        ReDim Preserve Ans(_NodeCount + Index.Length) 

        For I = 0 To Index.Length - 1 

            _NodeCount += 1 

            If I = 0 Then 
                Left(_NodeCount) = _NodeCount 
                Right(_NodeCount) = _NodeCount 
            Else 
                Left(_NodeCount) = _NodeCount - 1 
                Right(_NodeCount) = Right(_NodeCount - 1) 
                Left(Right(_NodeCount - 1)) = _NodeCount 
                Right(_NodeCount - 1) = _NodeCount 
            End If 

            Down(_NodeCount) = Index(I) 
            Up(_NodeCount) = Up(Index(I)) 
            Down(Up(Index(I))) = _NodeCount 
            Up(Index(I)) = _NodeCount 

            Row(_NodeCount) = _Rows 
            Col(_NodeCount) = Index(I) 
        Next  

    End Sub</code></pre>

<p>该函数的参数是这一行中值为1的元素的所在列的下标，具体就不再解释了。和AppendLine函数类似。</p>

<p>在文首的题目中，添加第一行的数据，如下调用</p>

<p>AppendLineByIndex（3，5，6）</p>

<p>和AppendLine（0，0，1，0，1，1，0）效果相同。</p>

<p> </p>

<p>下面的代码是调用该类求解文首题目的代码</p>

<pre class="has">
<code class="language-vbscript">Dim tS As New clsDancingLinks(7)


tS.AppendLineByIndex(3, 5, 6) 
tS.AppendLineByIndex(1, 4, 7) 
tS.AppendLineByIndex(2, 3, 6) 
tS.AppendLineByIndex(1, 4) 
tS.AppendLineByIndex(2, 7) 
tS.AppendLineByIndex(4, 5, 7)



Dim Ans() As Integer = tS.Dance </code></pre>

<p> </p>

<p>Ans（）数组中的值是4，5，1</p>

<p> </p>

<p> </p>

<p>至此，求解精确覆盖问题的Dancing Links算法就介绍完了。利用十字循环双向链这个特殊的数据结构，不可思议的完成了缓存矩阵和回溯矩阵的过程，十分优雅，十分高效。故Donald E.Knuth把它称为Dancing Links（舞蹈链）。我更喜欢<strong>跳跃的舞者</strong>这个名字</p>

<p> </p>

<p>有很多问题都能转换为精确覆盖问题，再利用Dancing Links算法求解就方便多了。</p>

<p> </p>

<p> </p>

<p>最后，把该类的完整代码贴在下方</p>

<p><br /><br />
 </p>

<pre class="has">
<code class="language-vbscript">Public Class clsDancingLinks 
    Private Left() As Integer, Right() As Integer, Up() As Integer, Down() As Integer 
    Private Row() As Integer, Col() As Integer 

    Private _Head As Integer 

    Private _Rows As Integer, _Cols As Integer, _NodeCount As Integer 
    Private Ans() As Integer 

    Public Sub New(ByVal Cols As Integer) 
        ReDim Left(Cols), Right(Cols), Up(Cols), Down(Cols), Row(Cols), Col(Cols), Ans(Cols) 
        Dim I As Integer 

        Up(0) = 0 
        Down(0) = 0 
        Right(0) = 1 
        Left(0) = Cols 

        For I = 1 To Cols 
            Up(I) = I 
            Down(I) = I 
            Left(I) = I - 1 
            Right(I) = I + 1 
            Col(I) = I 
            Row(I) = 0 
        Next 

        Right(Cols) = 0 

        _Rows = 0 
        _Cols = Cols 
        _NodeCount = Cols 
        _Head = 0 
    End Sub 

    Public Sub AppendLine(ByVal ParamArray Value() As Integer) 
        _Rows += 1 
        If Value.Length = 0 Then Exit Sub 

        Dim I As Integer, K As Integer = 0 

        For I = 0 To Value.Length - 1 
            If Value(I) = 1 Then 
                _NodeCount += 1 
                ReDim Preserve Left(_NodeCount) 
                ReDim Preserve Right(_NodeCount) 
                ReDim Preserve Up(_NodeCount) 
                ReDim Preserve Down(_NodeCount) 
                ReDim Preserve Row(_NodeCount) 
                ReDim Preserve Col(_NodeCount) 
                ReDim Preserve Ans(_NodeCount) 
                If K = 0 Then 
                    Left(_NodeCount) = _NodeCount 
                    Right(_NodeCount) = _NodeCount 
                    K = 1 
                Else 
                    Left(_NodeCount) = _NodeCount - 1 
                    Right(_NodeCount) = Right(_NodeCount - 1) 
                    Left(Right(_NodeCount - 1)) = _NodeCount 
                    Right(_NodeCount - 1) = _NodeCount 
                End If 

                Down(_NodeCount) = I + 1 
                Up(_NodeCount) = Up(I + 1) 
                Down(Up(I + 1)) = _NodeCount 
                Up(I + 1) = _NodeCount  

                Row(_NodeCount) = _Rows 
                Col(_NodeCount) = I + 1 
            End If 
        Next 

    End Sub 

    Public Sub AppendLineByIndex(ByVal ParamArray Index() As Integer) 
        _Rows += 1 
        If Index.Length = 0 Then Exit Sub 

        Dim I As Integer, K As Integer = 0  

        ReDim Preserve Left(_NodeCount + Index.Length) 
        ReDim Preserve Right(_NodeCount + Index.Length) 
        ReDim Preserve Up(_NodeCount + Index.Length) 
        ReDim Preserve Down(_NodeCount + Index.Length) 
        ReDim Preserve Row(_NodeCount + Index.Length) 
        ReDim Preserve Col(_NodeCount + Index.Length) 
        ReDim Preserve Ans(_NodeCount + Index.Length) 

        For I = 0 To Index.Length - 1 

            _NodeCount += 1 

            If I = 0 Then 
                Left(_NodeCount) = _NodeCount 
                Right(_NodeCount) = _NodeCount 
            Else 
                Left(_NodeCount) = _NodeCount - 1 
                Right(_NodeCount) = Right(_NodeCount - 1) 
                Left(Right(_NodeCount - 1)) = _NodeCount 
                Right(_NodeCount - 1) = _NodeCount 
            End If 

            Down(_NodeCount) = Index(I) 
            Up(_NodeCount) = Up(Index(I)) 
            Down(Up(Index(I))) = _NodeCount 
            Up(Index(I)) = _NodeCount 

            Row(_NodeCount) = _Rows 
            Col(_NodeCount) = Index(I) 
        Next 


    End Sub 

    Public Function Dance() As Integer() 
        Return IIf(Dance(0) = True, Ans, Nothing) 
    End Function 


    Private Function Dance(ByVal K As Integer) As Boolean 

        Dim C1 As Integer = Right(_Head) 
        If (C1 = _Head) Then 
            ReDim Preserve Ans(K - 1) 
            Return True 
        End If 
        RemoveCol(C1) 

        Dim I As Integer, J As Integer 

        I = Down(C1) 
        Do While I &lt;&gt; C1 
            Ans(K) = Row(I) 

            J = Right(I) 
            Do While J &lt;&gt; I 
                RemoveCol(Col(J)) 
                J = Right(J) 
            Loop 

            If Dance(K + 1) Then Return True 

            J = Left(I) 
            Do While J &lt;&gt; I 
                ResumeCol(Col(J)) 
                J = Left(J) 
            Loop 

            I = Down(I) 
        Loop  

        ResumeCol(C1) 
        Return False 
    End Function 

    Public Sub RemoveCol(ByVal Col As Integer) 

        Left(Right(Col)) = Left(Col) 
        Right(Left(Col)) = Right(Col) 

        Dim I As Integer, J As Integer 

        I = Down(Col) 
        Do While I &lt;&gt; Col 
            J = Right(I) 
            Do While J &lt;&gt; I 
                Up(Down(J)) = Up(J) 
                Down(Up(J)) = Down(J) 
                J = Right(J) 
            Loop 

            I = Down(I) 
        Loop 

    End Sub 

    Public Sub ResumeCol(ByVal Col As Integer) 

        Left(Right(Col)) = Col 
        Right(Left(Col)) = Col 

        Dim I As Integer, J As Integer 

        I = Up(Col) 

        Do While (I &lt;&gt; Col) 
            J = Right(I) 
            Do While J &lt;&gt; I 
                Up(Down(J)) = J 
                Down(Up(J)) = J 
                J = Right(J) 
            Loop 
            I = Up(I) 
        Loop 

    End Sub 
End Class 
</code></pre>

<p> </p>            </div>
                </div>
				<div class="hide-article-box text-center">
			<a class="btn btn-red-hollow" id="btn-readmore" data-track-view='{"mod":"popu_376","con":",https://blog.csdn.net/winner647520/article/details/81488067,"}' data-track-click='{"mod":"popu_376","con":",https://blog.csdn.net/winner647520/article/details/81488067,"}'>阅读更多</a>
		</div>
        	</article>
	
	
	<!-- !empty($pre_next_article[0]) -->
		</div>
<script>
    $(".MathJax").remove();
</script>

<!-- 博客详情页PC增加广告系统刷量代码 -->
<div id="a52b5334d" style="width: 1px; height: 1px; display: none;">
<script id="adJs52b5334"></script>
<script>document.getElementById("adJs52b5334").src = "https://ads.csdn.net/js/opt/52b5334.js?t=" + Math.random();</script>
</div>

<script type="text/javascript" src="https://static-blog.csdn.net/mdeditor/public/res/bower-libs/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
			"HTML-CSS": {
					linebreaks: { automatic: true, width: "94%container" },
					imageFont: null
			},
			tex2jax: {
				preview: "none"
			},
			mml2jax: {
				preview: 'none'
			}
	});
</script>
<script>
	(function(){
		var btnReadmore = $("#btn-readmore");
		if(btnReadmore.length>0){
			var winH = $(window).height();
			var articleBox = $("div.article_content");
			var artH = articleBox.height();
			if(artH > winH*2){
				articleBox.css({
					'height':winH*2+'px',
					'overflow':'hidden'
				})
				btnReadmore.click(function(){
					articleBox.removeAttr("style");
					$(this).parent().remove();
				})
			}else{
				btnReadmore.parent().remove();
			}
		}
	})()
</script>
        <div class="p4course_target" ></div><script>window.p4sdk_enable_courseBox=true</script>        <a id="commentBox"></a>
<div class="comment-box">
	  	<div class="unlogin-box text-center">
		想对作者说点什么？
		<!-- $curl 当前地址 -->
		<a href="https://passport.csdn.net/account/login?from=https://blog.csdn.net/winner647520/article/details/81488067#commentBox" class="btn btn-sm btn-red">我来说一句</a>
	</div>
			<div class="comment-list-container">
		<a id="comments"></a>
		<div class="comment-list-box">
		</div>
		<div id="commentPage" class="pagination-box d-none"></div>
		<div class="opt-box text-center">
			<button class="btn btn-sm btn-link-blue" id="btnMoreComment"></button>
		</div>
	</div>
</div>        <div class="recommend-box">
            		<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/qq_18455665/article/details/50641059,BlogCommendFromQuerySearch_0"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/qq_18455665/article/details/50641059,BlogCommendFromQuerySearch_0"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/qq_18455665/article/details/50641059" target="_blank" title="模板_<em>Dancing</em>Link(Algorithm X)">
					模板_<em>Dancing</em>Link(Algorithm X)				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/qq_18455665" target="_blank">
						<img src="https://avatar.csdn.net/2/F/A/3_qq_18455665.jpg" alt="qq_18455665" class="avatar-pic">
						<span class="namebox">
							<span class="name">qq_18455665</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">02-06</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						524</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/qq_18455665/article/details/50641059" target="_blank" >
						关于舞蹈链(DLX)原理传送门#include
#include
#define N 9*9*9*9*9*4+10
#define M 9*9*9+10
struct DancingLink{
   ...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/hermito/article/details/51755802,BlogCommendFromQuerySearch_1"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/hermito/article/details/51755802,BlogCommendFromQuerySearch_1"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/hermito/article/details/51755802" target="_blank" title="<em>舞蹈链</em>（<em>Dancing</em> <em>Links</em>）算法">
					<em>舞蹈链</em>（<em>Dancing</em> <em>Links</em>）算法				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/hermito" target="_blank">
						<img src="https://avatar.csdn.net/0/C/5/3_hermito.jpg" alt="hermito" class="avatar-pic">
						<span class="namebox">
							<span class="name">hermito</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">06-24</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						711</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/hermito/article/details/51755802" target="_blank" >
						关于舞蹈链，可以看以下两篇博客：
跳跃的舞者，舞蹈链（Dancing Links）算法——求解精确覆盖问题
http://www.cnblogs.com/grenet/p/3145800.html...					</a>
				</p>
		</div>
				</div>
									<!-- 第四范式广告开关 -->
				<div class="p4courset3_target _4paradigm_box recommend-item-box clearfix" ></div>
				<script>window.p4sdk_enable_recommendBox=true</script>
			
				<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/u011466175/article/details/38927719,BlogCommendFromQuerySearch_2"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/u011466175/article/details/38927719,BlogCommendFromQuerySearch_2"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/u011466175/article/details/38927719" target="_blank" title="POJ 3074,3076,2676 数独 <em>Dancing</em> <em>Links</em><em>舞蹈链</em>">
					POJ 3074,3076,2676 数独 <em>Dancing</em> <em>Links</em><em>舞蹈链</em>				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/u011466175" target="_blank">
						<img src="https://avatar.csdn.net/6/F/C/3_u011466175.jpg" alt="u011466175" class="avatar-pic">
						<span class="namebox">
							<span class="name">u011466175</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">08-29</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						984</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/u011466175/article/details/38927719" target="_blank" >
						思路：数独正好是精确覆盖问题的最好例子，这个也算是舞蹈链的模板了吧。
这个和网络流一样，难的是建模。如果能想好怎么建立矩阵的话，那一切都容易了。
这题怎么建矩阵，可以看论文：http://www.cn...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/u012717411/article/details/48196909,BlogCommendFromQuerySearch_3"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/u012717411/article/details/48196909,BlogCommendFromQuerySearch_3"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/u012717411/article/details/48196909" target="_blank" title="【<em>Dancing</em> <em>Links</em><em>舞蹈链</em>】poj 3076 Sudoku">
					【<em>Dancing</em> <em>Links</em><em>舞蹈链</em>】poj 3076 Sudoku				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/u012717411" target="_blank">
						<img src="https://avatar.csdn.net/C/6/4/3_u012717411.jpg" alt="u012717411" class="avatar-pic">
						<span class="namebox">
							<span class="name">u012717411</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">09-03</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						591</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/u012717411/article/details/48196909" target="_blank" >
						Source : poj 3076 Sudoku  http://poj.org/problem?id=3076 
Problem Description 
A Sudoku grid is a 16...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/xiahn1a/article/details/50858957,BlogCommendFromQuerySearch_4"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/xiahn1a/article/details/50858957,BlogCommendFromQuerySearch_4"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/xiahn1a/article/details/50858957" target="_blank" title="<em>舞蹈链</em>算法与数独求解">
					<em>舞蹈链</em>算法与数独求解				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/xiahn1a" target="_blank">
						<img src="https://avatar.csdn.net/5/C/C/3_xiahn1a.jpg" alt="xiahn1a" class="avatar-pic">
						<span class="namebox">
							<span class="name">xiahn1a</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">03-11</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						2534</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/xiahn1a/article/details/50858957" target="_blank" >
						舞蹈链算法与数独求解
舞蹈链算法 
舞蹈链算法用于求解精确覆盖问题 。 
精确覆盖问题可以理解为如下问题： 
给定一个01矩阵，寻找一个行的集合，使得集合中的列恰好满足每一列包含一个1。...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/u010264321/article/details/38071911,BlogCommendFromQuerySearch_5"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/u010264321/article/details/38071911,BlogCommendFromQuerySearch_5"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/u010264321/article/details/38071911" target="_blank" title="用<em>Dancing</em> <em>Links</em>求解数独">
					用<em>Dancing</em> <em>Links</em>求解数独				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/u010264321" target="_blank">
						<img src="https://avatar.csdn.net/B/0/D/3_u010264321.jpg" alt="u010264321" class="avatar-pic">
						<span class="namebox">
							<span class="name">u010264321</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">07-23</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						1108</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/u010264321/article/details/38071911" target="_blank" >
						算法实践——舞蹈链（Dancing Links）算法求解数独					</a>
				</p>
		</div>
				</div>
								<div class="recommend-item-box recommend-ad-box" id="a_d_feed_0"></div>
			<script>
				var width = $("div.recommend-box").outerWidth() - 48;
				NEWS_FEED({
					w: width,
					h: 60,
					showid: 'Afihld',
					placeholderId: 'a_d_feed_0',
					inject: 'define',
					define: {
						imagePosition: 'right',
						imageBorderRadius: 0,
						imageWidth: 90,
						imageHeight: 60,
						imageFill: 'clip',
						displayImage: true,
						displayTitle: true,
						titleFontSize: 20,
						titleFontColor: '#333',
						titleFontFamily: 'Microsoft Yahei',
						titleFontWeight: 'bold',
						titlePaddingTop: 0,
						titlePaddingRight: 0,
						titlePaddingBottom: 10,
						titlePaddingLeft: 0,
						displayDesc: true,
						descFontSize: 14,
						descPaddingLeft: 14,
						descFontColor: '#6b6b6b',
						descFontFamily: 'Microsoft Yahei',
						paddingTop: 0,
						paddingRight: 0,
						paddingBottom: 0,
						paddingLeft: 0,
						backgroundColor: '#fff',
						hoverColor: '#ca0c16'
					}
				})
			</script>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/xanxus46/article/details/49823527,BlogCommendFromQuerySearch_6"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/xanxus46/article/details/49823527,BlogCommendFromQuerySearch_6"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/xanxus46/article/details/49823527" target="_blank" title="<em>dancing</em> <em>links</em>解决X问题的C++实现">
					<em>dancing</em> <em>links</em>解决X问题的C++实现				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/xanxus46" target="_blank">
						<img src="https://avatar.csdn.net/8/3/2/3_xanxus46.jpg" alt="xanxus46" class="avatar-pic">
						<span class="namebox">
							<span class="name">xanxus46</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">11-13</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						1177</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/xanxus46/article/details/49823527" target="_blank" >
						X问题，也称精确覆盖问题，就是给定一个01矩阵，需要从中选取一些行组成一个子矩阵，这个子矩阵的每一列有且仅有一个1。这个问题听起来就知道很难，必须使用回溯算法来解决，但是我们知道回溯算法要提高效率，就...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/power721/article/details/6662390,BlogCommendFromQuerySearch_7"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/power721/article/details/6662390,BlogCommendFromQuerySearch_7"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/power721/article/details/6662390" target="_blank" title="Sudoku 数独 <em>Dancing</em> <em>Links</em>模板">
					Sudoku 数独 <em>Dancing</em> <em>Links</em>模板				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/power721" target="_blank">
						<img src="https://avatar.csdn.net/5/B/2/3_power721.jpg" alt="power721" class="avatar-pic">
						<span class="namebox">
							<span class="name">power721</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">08-05</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						2709</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/power721/article/details/6662390" target="_blank" >
						推荐论文： momodi的《Dancing Links 在搜索中的应用》、Knuth的DLX论文、陈丹琦的《Dancing Links的应用》
 
Dancing Links是用来优化一类精确覆盖...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/mu399/article/details/7627862,BlogCommendFromQuerySearch_8"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/mu399/article/details/7627862,BlogCommendFromQuerySearch_8"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/mu399/article/details/7627862" target="_blank" title="简单易懂的<em>Dancing</em> <em>links</em>讲解（4）">
					简单易懂的<em>Dancing</em> <em>links</em>讲解（4）				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/mu399" target="_blank">
						<img src="https://avatar.csdn.net/1/0/C/3_mu399.jpg" alt="mu399" class="avatar-pic">
						<span class="namebox">
							<span class="name">mu399</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">06-03</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						8240</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/mu399/article/details/7627862" target="_blank" >
						DancingLinks的应用        把dancingLink应用于实际问题时，只有一个难点，就是如何把具体的问题转换为可以精确覆盖的01矩阵模型，一旦完成了这个步后，直接套用模板就可以解决问...					</a>
				</p>
		</div>
				</div>
					<div class="recommend-item-box type_blog clearfix" data-track-view='{"mod":"popu_387","con":",https://blog.csdn.net/pi9nc/article/details/11825733,BlogCommendFromQuerySearch_9"}' data-track-click='{"mod":"popu_387","con":",https://blog.csdn.net/pi9nc/article/details/11825733,BlogCommendFromQuerySearch_9"}'>
		<div class="float-left">
			<h4 class="text-truncate oneline">
				<a href="https://blog.csdn.net/pi9nc/article/details/11825733" target="_blank" title="<em>Dancing</em> <em>Links</em>中文版">
					<em>Dancing</em> <em>Links</em>中文版				</a>
			</h4>
			<div class="info-box d-flex align-content-center">
				<p>
					<a class="avatar" src="https://blog.csdn.net/pi9nc" target="_blank">
						<img src="https://avatar.csdn.net/8/9/C/3_pi9nc.jpg" alt="pi9nc" class="avatar-pic">
						<span class="namebox">
							<span class="name">pi9nc</span>
							<span class="triangle"></span>
						</span>
					</a>
				</p>
				<p class="date-and-readNum">
					<span class="date hover-show">09-19</span>
					<span class="read-num hover-hide">
						<svg class="icon csdnc-yuedushu" aria-hidden="true">
							<use xlink:href="#csdnc-yuedushu"></use>
						</svg>
						1780</span>
					</p>
				</div>
				<p class="content oneline">
					<a class="oneline" href="https://blog.csdn.net/pi9nc/article/details/11825733" target="_blank" >
						Dancing Links中文版（DLXcn）
Donald E.Knuth, Stanford University
翻译 武汉武钢三中 吴豪
更正 排版 上海交通大学 隋清宇（sqybi）...					</a>
				</p>
		</div>
				</div>
			
            <div class="recommend-loading-box">
                <img src='https://csdnimg.cn/release/phoenix/images/feedLoading.gif'>
            </div>
            <div class="recommend-end-box">
                <p class="text-center">没有更多推荐了，<a href="https://blog.csdn.net/" class="c-blue c-blue-hover c-blue-focus">返回首页</a></p>
            </div>
        </div>
    </main>
    <aside>
		    <div id="asideProfile" class="aside-box">
    <h3 class="aside-title">个人资料</h3>
    <div class="profile-intro d-flex">
        <div class="avatar-box d-flex justify-content-center flex-column">
            <a href="https://blog.csdn.net/winner647520">
                <img src="https://avatar.csdn.net/F/F/B/3_winner647520.jpg" class="avatar_pic">
            </a>
        </div>
        <div class="user-info d-flex justify-content-center flex-column">
            <p class="name csdn-tracking-statistics tracking-click" data-mod="popu_379">
                <a href="https://blog.csdn.net/winner647520" target="_blank" class="text-truncate" id="uid">犹原</a>
            </p>
                    </div>
                <div class="opt-box d-flex justify-content-center flex-column">
            <span  class="csdn-tracking-statistics tracking-click" data-mod="popu_379">
                                <a class="btn btn-sm btn-red-hollow" href="https://passport.csdn.net/account/login?from=https://blog.csdn.net/winner647520/article/details/81488067" target="_self">关注</a>
                            </span>
                    </div>
            </div>
    <div class="data-info d-flex item-tiling">
                <dl class="text-center" title="120">
                        <dt><a href="https://blog.csdn.net/winner647520?t=1">原创</a></dt>
            <dd><a href="https://blog.csdn.net/winner647520?t=1"><span class="count">120</span></a></dd>
                    </dl>
        <dl class="text-center" title="6">
            <dt>粉丝</dt>
            <dd><span class="count" id="fan">6</span></dd>
        </dl>
        <dl class="text-center" title="55">
            <dt>喜欢</dt>
            <dd><span class="count">55</span></dd>
        </dl>
        <dl class="text-center" title="0">
            <dt>评论</dt>
            <dd><span class="count">0</span></dd>
        </dl>
    </div>
    <div class="grade-box clearfix">
        <dl>
            <dt>等级：</dt>
            <dd>
                <a href="https://blog.csdn.net/home/help.html#level" title="4级,点击查看等级说明" target="_blank">
                    <svg class="icon icon-level" aria-hidden="true">
                        <use xlink:href="#csdnc-bloglevel-4"></use>
                    </svg>
                </a>
            </dd>
        </dl>
        <dl>
            <dt>访问：</dt>
            <dd title="4486">
                4486            </dd>
        </dl>
        <dl>
            <dt>积分：</dt>
            <dd title="1225">
                1225            </dd>
        </dl>
        <dl title="51285">
            <dt>排名：</dt>
            <dd>5万+</dd>
        </dl>
    </div>
        <div class="badge-box d-flex">
        <span>勋章：</span>
                        <a class="icon-badge" title="持之以恒">
            <svg class="icon" aria-hidden="true">
                <use xlink:href="#csdnc-m-lasting"></use>
            </svg>
            <div class="icon-arrow"></div>
            <div class="grade-detail-box item2">
                <div class="pos-box">
                    <div class="left-box d-flex justify-content-center align-items-center flex-column">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#csdnc-m-lasting"></use>
                        </svg>
                        <p>持之以恒</p>
                    </div>
                    <div class="right-box d-flex justify-content-center align-items-center">
                        授予每个自然月内发布4篇或4篇以上原创或翻译IT博文的用户。不积跬步无以至千里，不积小流无以成江海，程序人生的精彩需要坚持不懈地积累！
                    </div>
                </div>
            </div>
        </a>
                            </div>
    </div>		    <div class="csdn-tracking-statistics mb8 box-shadow" data-pid="blog" data-mod="popu_4" style="height:250px;">
    <div class="aside-content text-center" id="cpro_u2734133">
      <!-- 广告位：PC-博客内页-百度联盟-300x250 -->
                      <script type="text/javascript" src="//cee1.iteye.com/lgyyovfyh.js"></script>    </div>
</div>
		    <div id="asideNewArticle" class="aside-box">
    <h3 class="aside-title">最新文章</h3>
    <div class="aside-content">
        <ul class="inf_list clearfix csdn-tracking-statistics tracking-click" data-mod="popu_382">
                        <li class="clearfix">
                <a href="https://blog.csdn.net/winner647520/article/details/81461577" target="_blank">最短路径SPFA算法——待更新</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/winner647520/article/details/81460926" target="_blank">HDU 1166 敌兵布阵（线段树）</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/winner647520/article/details/81451835" target="_blank">POJ 1321 棋盘问题（深搜）</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/winner647520/article/details/81408492" target="_blank">HDU 素数回文  （暴力打表）</a>
            </li>
                        <li class="clearfix">
                <a href="https://blog.csdn.net/winner647520/article/details/81407239" target="_blank">SDUT OJ 效率至上（线段树）</a>
            </li>
                    </ul>
    </div>
</div>
		    		    <div id="asideCategory" class="aside-box flexible-box">
    <h3 class="aside-title">个人分类</h3>
    <div class="aside-content">
        <ul>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7910701">
                    ———算法———                    <span class="count float-right">4篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7897641">
                    搜索                    <span class="count float-right">5篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7716325">
                    ———南墙、理想———                    <span class="count float-right">5篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7466484">
                    ————数据结构————                    <span class="count float-right">57篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7672378">
                    顺序表                    <span class="count float-right">9篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7677262">
                    串、数组操作                    <span class="count float-right">5篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7682982">
                    二叉树操作                    <span class="count float-right">9篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7818788">
                    栈与队列                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7460545">
                    排序                    <span class="count float-right">8篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7576269">
                    查找                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7892811">
                    并查集                    <span class="count float-right">2篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7833497">
                    图论算法                    <span class="count float-right">10篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7895114">
                    最短路径                    <span class="count float-right">5篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7897709">
                    拓扑排序                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7897656">
                    最小生成树                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7903015">
                    字典树                    <span class="count float-right">2篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7905731">
                    线段树                    <span class="count float-right">3篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7716323">
                    ————程序设计基础————                    <span class="count float-right">2篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7484314">
                    结构体                    <span class="count float-right">4篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7466447">
                    链表                    <span class="count float-right">11篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7555332">
                    递推                    <span class="count float-right">10篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7634457">
                    贪心                    <span class="count float-right">10篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7527499">
                    递归                    <span class="count float-right">9篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7634551">
                    动态规划                    <span class="count float-right">10篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7587573">
                    离散数学                    <span class="count float-right">11篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7897794">
                    ————AC路漫漫————                    <span class="count float-right">2篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7897795">
                    水题                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7905960">
                    暴力                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7905961">
                    打表                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7906081">
                    HDU                    <span class="count float-right">3篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7906085">
                    cf                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7912209">
                    POJ                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <li>
                <a href="https://blog.csdn.net/winner647520/article/category/7916135">
                    舞蹈链                    <span class="count float-right">1篇</span>
                </a>
            </li>
                    </ul>
    </div>
        <p class="text-center">
        <a class="btn btn-link-blue flexible-btn" data-fbox="aside-archive">展开</a>
    </p>
    </div>
		    <div id="asideArchive" class="aside-box flexible-box">
    <h3 class="aside-title">归档</h3>
    <div class="aside-content">
        <ul class="archive-list">
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/08">
                    2018年8月                    <span class="count float-right">15篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/07">
                    2018年7月                    <span class="count float-right">12篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/06">
                    2018年6月                    <span class="count float-right">1篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/05">
                    2018年5月                    <span class="count float-right">46篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/04">
                    2018年4月                    <span class="count float-right">25篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/03">
                    2018年3月                    <span class="count float-right">10篇</span>
                </a>
            </li>
                        <!--归档统计-->
            <li>
                <a href="https://blog.csdn.net/winner647520/article/month/2018/02">
                    2018年2月                    <span class="count float-right">13篇</span>
                </a>
            </li>
                    </ul>
    </div>
        <p class="text-center">
        <a class="btn btn-link-blue flexible-btn" data-fbox="aside-archive">展开</a>
    </p>
    </div>
		    <div id="asideHotArticle" class="aside-box">
	<h3 class="aside-title">热门文章</h3>
	<div class="aside-content">
		<ul class="hotArticle-list csdn-tracking-statistics tracking-click" data-mod="popu_521">
							<li>
					<a href="https://blog.csdn.net/winner647520/article/details/79273879">2018寒假集训总结及感想</a>
					<p class="read">阅读量：<span>466</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/winner647520/article/details/79927160">【离散数学】 SDUT OJ 传递闭包   &amp;&amp;   memset 使用注意事项</a>
					<p class="read">阅读量：<span>388</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/winner647520/article/details/79927151">【离散数学】 SDUT OJ 偏序关系</a>
					<p class="read">阅读量：<span>188</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/winner647520/article/details/79451963">SDUT OJ 2741 小鑫の日常系列故事（十）——排名次</a>
					<p class="read">阅读量：<span>183</span></p>
				</li>
							<li>
					<a href="https://blog.csdn.net/winner647520/article/details/79330893">寒假数据结构与算法学习&amp;amp;amp;amp;寒假训练赛与新春大作战总结感想</a>
					<p class="read">阅读量：<span>138</span></p>
				</li>
					</ul>
	</div>
</div>
		    		    <!--自定义模块-->
<div id="asideCustom63255610" class="aside-box custom-box">
    <h3 class="aside-title"></h3>
    <div class="aside-content clearfix">
        <a href="" target="_blank" style="display: block;font-size: 14px;color: #757a7e;"></a>
<a href="" target="_blank" style="margin-top: 10px;font-size: 14px;color: #4093c6;display: block;"></a>    </div>
</div>
		<div id="asideFooter">
			
		<div class="aside-box">
						<script type="text/javascript" src="//cee1.iteye.com/avneunkwb.js"></script>
					</div>
				<div class="aside-box">
			<div class="persion_article">
			</div>
		</div>
	</div>
</aside>
<script src="https://csdnimg.cn/pubfooter/js/publib_footer-1.0.3.js" data-isfootertrack="false" type="text/javascript"></script>
<script>
	$("a.flexible-btn").click(function(){
		$(this).parents('div.aside-box').removeClass('flexible-box');
		$(this).remove();
	})
</script>
</div>
<div class="mask-dark"></div>
<div class="pulllog-box" style="display: block;">
	<div class="pulllog clearfix">
		<span class="text float-left">
			<!-- 广告位：PC-博客内页底通 文字链位置 -->
			<script>
			(function() {
				var s = "_" + Math.random().toString(36).slice(2);
				document.write('<div id="baidufooter_0001"></div>');
				(window.slotbydup=window.slotbydup || []).push({
					id: '5851901',
					container: 'baidufooter_0001',
					size: '520,40',
					display: 'inlay-fix'
				});
			})();
			</script>
			<script src="https://dup.baidustatic.com/js/os.js"></script>
			<style>
				#baidufooter_0001{
					display: none !important;
				}
			</style>
		</span>
		<div class="pulllog-btn float-right clearfix">
            <button class="pulllog-login float-left csdn-tracking-statistics tracking-click" data-mod="popu_557">
                登录
            </button>
            <div class="pulllog-sigin float-left csdn-tracking-statistics tracking-click" data-mod="popu_558">
                <a href="https://passport.csdn.net/account/mobileregister" target="_blank">注册</a>
            </div>
            <button class="btn-close">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#csdnc-times"></use>
                </svg>
            </button>
		</div>
	</div>
</div>
<div id="loginWrap" style="display:none"></div>
<div class="tool-box">
	<ul class="meau-list">
		<li>
			<button class="btn-like " title="点赞">
				<svg class="icon active" aria-hidden="true">
					<use xlink:href="#csdnc-thumbsup-ok"></use>
				</svg><svg class="icon no-active" aria-hidden="true">
					<use xlink:href="#csdnc-thumbsup"></use>
				</svg>
				<p>0</p>
			</button>
		</li>
		<li>
			<a class="btn-comments" title="写评论" href="#commentBox">
				<svg class="icon" aria-hidden="true">
					<use xlink:href="#csdnc-comments"></use>
				</svg><br>写评论			</a>
		</li>
		<li class="toc-container-box" id="liTocBox">
			<button class="btn-toc" title="目录">
				<svg class="icon" aria-hidden="true">
					<use xlink:href="#csdnc-contents"></use>
				</svg><br>目录
			</button>
			<div class="toc-container">
				<div class="pos-box">
					<div class="icon-arrow"></div>
					<div class="scroll-box">
						<div class="toc-box"></div>
					</div>
				</div>
				<div class="opt-box">
					<button class="btn-opt prev nomore" title="向上">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#csdnc-chevronup"></use>
						</svg>
					</button>
					<button class="btn-opt next">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#csdnc-chevrondown"></use>
						</svg>
					</button>
				</div>
			</div>
		</li>
		<li>
			<button class="btn-bookmark" title="收藏">
				<svg class="icon active" aria-hidden="true">
					<use xlink:href="#csdnc-bookmark-ok"></use>
				</svg><svg class="icon no-active" aria-hidden="true">
					<use xlink:href="#csdnc-bookmark"></use>
				</svg><br>收藏
			</button>
		</li>
				<li class="bdsharebuttonbox">
			<a class="btn-comments bds_weixin" data-cmd="weixin" title="微信分享">
				<svg class="icon" aria-hidden="true">
					<use xlink:href="#csdnc-wechat"></use>
				</svg><br>微信
			</a>
		</li>
		<li class="bdsharebuttonbox">
			<a class="btn-comments bds_tsina" data-cmd="tsina" title="微博分享">
				<svg class="icon" aria-hidden="true">
					<use xlink:href="#csdnc-weibo"></use>
				</svg><br>微博
			</a>
		</li>
		<li class="bdsharebuttonbox">
			<a class="btn-comments bds_qzone" data-cmd="qzone" title="QQ分享">
				<svg class="icon" aria-hidden="true">
					<use xlink:href="#csdnc-qq"></use>
				</svg><br>QQ
			</a>
		</li>
	</ul>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'https://csdnimg.cn/static/api/js/share.js?v=89860594'];</script>
<script>
    var recommendCount = 10;
    recommendCount = recommendCount > 1 ? (recommendCount + (recommendCount>6 ? 2 : 1)) : recommendCount;
    var articleTit = "Dancing Links（舞蹈链）";
    var ChannelId = 16;
    var articleId = "81488067";
    var commentscount = 0;
    var islock = false;
    var curentUrl = "https://blog.csdn.net/winner647520/article/details/81488067";
    var myUrl = "https://my.csdn.net/";
    //1禁止评论，2正常
    var commentAuth = 2;
    //百度搜索
    var baiduKey = "";
    var needInsertBaidu = true;
    // 代码段样式
    var codeStyle = '';
    var highlight = ["dancing","links","\u821e\u8e48\u94fe"];//高亮数组
</script>
<script src="https://csdnimg.cn/public/sandalstrap/1.3/js/sandalstrap.min.js"></script>
<script src="https://csdnimg.cn/release/phoenix/vendor/pagination/paging.js"></script>
<script src='https://csdnimg.cn/public/common/gotop/js/goTop-v1.0.min.js?v201803151422'></script>
<script>
    GoTop({
        right: 8,
        hasReport: true,
        reportFun: function() {
            showReport(false,"Dancing Links（舞蹈链）");
        }
    })
</script>
<script src="https://csdnimg.cn/release/phoenix/template/js/common-a4f198c74c.min.js"></script>
<script src="https://csdnimg.cn/release/phoenix/template/js/detail-bb796c2d26.min.js"></script>
<script src="https://csdnimg.cn/release/phoenix/themes/skin3-template/skin3-template-73eea35575.min.js"></script>
</body>
<div class="box-box-aways">
    <a class="btn-remove">
        关闭
    </a>
    <div id="adAways">
        <script>
            (function() {
            (window.slotbydup=window.slotbydup || []).push({
            id: '5868728',
            container: 'adAways',
            size: '250,500',
            display: 'inlay-fix'
            });
            })();
            </script>
        <script src="https://dup.baidustatic.com/js/os.js"></script>
    </div>
</div>
<div class="box-box-default">
    <a class="btn-remove">
        关闭
    </a>
    <script type="text/javascript" src="//cee1.iteye.com/mhzzjepzz.js"></script>
</div>
<div class="box-box-large">
    <a class="btn-remove">
        关闭
    </a>
    <script type="text/javascript" src="//cee1.iteye.com/idvveasfs.js"></script>
</div>
<!-- 第四范式SDK -->

<!-- 高亮未与 markdown兼容  -->
	<link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/chart/chart.css" />
	<script type="text/javascript" src="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/chart/lib/chart.min.js"></script>
	<script type="text/javascript" src="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/chart/widget2chart.js"></script>
	<link rel="stylesheet" href="https://csdnimg.cn/release/blog_editor_html/release1.3.1/ckeditor/plugins/codesnippet/lib/highlight/styles/atom-one-dark.css">
	<script type="text/javascript" src="https://csdnimg.cn/release/phoenix/production/pc_wap_common-93244aa03c.js" /></script>

	<script type="text/javascript">
	$(function(){
		var allEscRegex = /&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,
		    namedEntities = {
					lt: '<',
					gt: '>',
					amp: '&',
					quot: '"',
					nbsp: '\u00a0',
					shy: '\u00ad'
				}
		var allEscDecode = function( match, code ) {
				return namedEntities[ code ];
		};
		htmlDecodeAttr = function( text ) {
				return text.replace( allEscRegex, allEscDecode );
		}
	  hljs.initHighlightingOnLoad();
	  hljs.initCopyButtonOnLoad();
	  hljs.initLineNumbersOnLoad();
		if($('pre .language-plain').length>0){
			$('pre .language-plain').each(function(i,e){
				var highlightRe = hljs.highlightAuto(htmlDecodeAttr(e.innerHTML))
				e.innerHTML = highlightRe.value;
				e.className = 'language-'+highlightRe.language;
			});
		}
	})
	</script>
</html>